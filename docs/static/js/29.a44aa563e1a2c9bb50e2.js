webpackJsonp([29],{bqOp:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("mtWM"),s=t.n(a),o=t("zL8q"),n={name:"Register",data:function(){var e=this;return{form:{user_name:"",password:"",sure:"",real_name:"",phone:"",email:""},rules:{user_name:[{required:!0,trigger:"blur",validator:function(e,r,t){s.a.get("http://118.31.102.1:9200/managerUser/userExist?userName="+r).then(function(e){e.data?t(new Error("用户名已存在")):t()})}},{required:!0,message:"用户名不可为空",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"密码不可为空",trigger:"blur"},{min:6,max:18,message:"长度在 6 到 18 个字符",trigger:"blur"}],sure:[{required:!0,trigger:"blur",validator:function(r,t,a){t===e.form.password?a():a(new Error("密码不一致"))}},{required:!0,message:"请确认密码",trigger:"blur"},{min:6,max:18,message:"长度在 6 到 18 个字符",trigger:"blur"}],real_name:[{required:!0,message:"真实姓名不可为空",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],phone:[{required:!0,message:"手机号不可为空",trigger:"blur"},{min:11,max:11,message:"长度必须是 11 个字符",trigger:"blur"},{validator:function(e,r,t){if(!/^((13[0-9])|(14[5|7])|(15([0-3]|[5-9]))|(17[013678])|(18[0,5-9]))\d{8}$/.test(r))return t(new Error("请输入正确的手机号"));t()},trigger:["blur","change"]}],email:[{required:!0,message:"邮箱不可为空",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}]}}},methods:{onSubmit:function(e){var r=this;this.$refs.registerForm.validate(function(e){if(!e)return!1;s.a.post("http://118.31.102.1:9200/managerUser/register",r.form).then(function(){r.$notify({title:"成功",message:"注册成功",type:"success",duration:2e3}),r.$router.push({path:"/login"})}).catch(function(e){o.Message.error(e.response.data.message),r.$router.push({path:"/register"})})})},resetForm:function(e){this.$refs[e].resetFields()},onCancel:function(){this.$router.push({path:"/login"})}}},i={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("el-form",{ref:"registerForm",staticClass:"register-box",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[t("el-button",{staticClass:"cancel",attrs:{icon:"el-icon-back",size:"mini"},on:{click:e.onCancel}}),e._v(" "),t("h3",{staticClass:"register-title"},[e._v("注册页面")]),e._v(" "),t("el-form-item",{attrs:{label:"用户名",prop:"user_name"}},[t("el-input",{attrs:{type:"text",placeholder:"请输入用户名",clearable:""},model:{value:e.form.user_name,callback:function(r){e.$set(e.form,"user_name",r)},expression:"form.user_name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password",placeholder:"请输入密码","show-password":""},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"确认密码",prop:"sure"}},[t("el-input",{attrs:{type:"password",placeholder:"请确认密码","show-password":""},model:{value:e.form.sure,callback:function(r){e.$set(e.form,"sure",r)},expression:"form.sure"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"真实姓名",prop:"real_name"}},[t("el-input",{attrs:{type:"text",placeholder:"请输入真实姓名",clearable:""},model:{value:e.form.real_name,callback:function(r){e.$set(e.form,"real_name",r)},expression:"form.real_name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[t("el-input",{attrs:{type:"text",maxlength:"11",placeholder:"请输入手机号",clearable:""},model:{value:e.form.phone,callback:function(r){e.$set(e.form,"phone",r)},expression:"form.phone"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{attrs:{type:"email",placeholder:"请输入邮箱",clearable:""},model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.onSubmit("registerForm")}}},[e._v("注册")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.resetForm("registerForm")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var l=t("VU/8")(n,i,!1,function(e){t("iFvr")},"data-v-e8d17a6c",null);r.default=l.exports},dQLe:function(e,r,t){(e.exports=t("FZ+f")(!1)).push([e.i,"\n.register-box[data-v-e8d17a6c] {\r\n    border: 1px solid #DCDFE6;\r\n    width: 350px;\r\n    margin: 0 auto;\r\n    margin-top: 2rem;\r\n    padding: 15px 35px 15px 25px;\r\n    border-radius: 5px;\r\n    -webkit-border-radius: 5px;\r\n    -moz-border-radius: 5px;\r\n    -webkit-box-shadow: 0 0 25px #909399;\r\n            box-shadow: 0 0 25px #909399;\n}\n.register-title[data-v-e8d17a6c] {\r\n    text-align: center;\r\n    margin: 0 auto 40px auto;\r\n    color: #303133;\n}\n.cancel[data-v-e8d17a6c] {\r\n    border-radius: 50%;\r\n    -webkit-border-radius: 50%;\r\n    -moz-border-radius: 50%;\n}\r\n",""])},iFvr:function(e,r,t){var a=t("dQLe");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("rjj0")("40aac311",a,!0)}});